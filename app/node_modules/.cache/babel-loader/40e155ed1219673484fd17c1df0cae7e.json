{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/app/src/pages/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/app/src/pages/Home.vue","mtime":1618341852750},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGU6ICcnLAogICAgICBvcmlnZW5zOiBbMTEsIDE2LCAxNywgMThdLAogICAgICBkZXN0aW5vczogWzExLCAxNiwgMTcsIDE4XSwKICAgICAgb3JpZ2VtTGlnYWNhbzogMTEsCiAgICAgIGRlc3Rpbm9MaWdhY2FvOiAxMSwKICAgICAgdGVtcG86IDAsCiAgICAgIHBsYW5vOiAnRmFsZU1haXMgMzAnLAogICAgICB2YWxvckZhbGVNYWlzOiAwLAogICAgICB2YWxvcjogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGN1bGFWYWxvcjogZnVuY3Rpb24gY2FsY3VsYVZhbG9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMub3JpZ2VtTGlnYWNhbyAhPSAxMSAmJiB0aGlzLmRlc3Rpbm9MaWdhY2FvICE9IDExIHx8IHRoaXMub3JpZ2VtTGlnYWNhbyA9PSAxMSAmJiB0aGlzLmRlc3Rpbm9MaWdhY2FvID09IDExKSB7CiAgICAgICAgYWxlcnQoJ07Do28gcG9zc3VpbW9zIHBsYW5vcyBkZSBsaWdhw6fDtWVzIGVudHJlIG8gREREICcgKyB0aGlzLm9yaWdlbUxpZ2FjYW8gKyAnIGUgbyBEREQgJyArIHRoaXMuZGVzdGlub0xpZ2FjYW8pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRlbXBvIDw9IDApIHsKICAgICAgICBhbGVydCgnSW5mb3JtZSBvIHRlbXBvIGRhIGxpZ2HDp8Ojby4nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBjYWxjdWxvRG9WYWxvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2NvdGFjb2VzL2NhbGN1bGEnLCB7CiAgICAgICAgICAgICAgICAgICAgIm9yaWdlbSI6IF90aGlzLm9yaWdlbUxpZ2FjYW8sCiAgICAgICAgICAgICAgICAgICAgImRlc3Rpbm8iOiBfdGhpcy5kZXN0aW5vTGlnYWNhbywKICAgICAgICAgICAgICAgICAgICAibWludXRvcyI6IF90aGlzLnRlbXBvLAogICAgICAgICAgICAgICAgICAgICJwbGFubyI6IF90aGlzLnBsYW5vCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy52YWxvckZhbGVNYWlzID0gcmVzLmRhdGEudmFsb3JDb21GYWxlTWFpczsKICAgICAgICAgICAgICAgICAgICBfdGhpcy52YWxvciA9IHJlcy5kYXRhLnZhbG9yU2VtRmFsZU1haXM7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGF0ZSA9IHJlcy5kYXRhLmRhdGU7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiBjYWxjdWxvRG9WYWxvcigpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpOwoKICAgICAgY2FsY3Vsb0RvVmFsb3IoKTsKICAgIH0sCiAgICBndWFyZGFDb3RhY2FvOiBmdW5jdGlvbiBndWFyZGFDb3RhY2FvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBjcmlhUmVnaXN0cm8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvY290YWNvZXMvJywgewogICAgICAgICAgICAgICAgICAgICJvcmlnZW0iOiBfdGhpczIub3JpZ2VtTGlnYWNhbywKICAgICAgICAgICAgICAgICAgICAiZGVzdGlubyI6IF90aGlzMi5kZXN0aW5vTGlnYWNhbywKICAgICAgICAgICAgICAgICAgICAibWludXRvcyI6IF90aGlzMi50ZW1wbywKICAgICAgICAgICAgICAgICAgICAicGxhbm8iOiBfdGhpczIucGxhbm8sCiAgICAgICAgICAgICAgICAgICAgInZhbG9yRmFsZU1haXMiOiBfdGhpczIudmFsb3JGYWxlTWFpcywKICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiBfdGhpczIudmFsb3IKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JpYVJlZ2lzdHJvKCkgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpOwoKICAgICAgY3JpYVJlZ2lzdHJvKCk7CiAgICAgIHRoaXMub3JpZ2VtTGlnYWNhbyA9ICcxMSc7CiAgICAgIHRoaXMuZGVzdGlub0xpZ2FjYW8gPSAnMTEnOwogICAgICB0aGlzLnRlbXBvID0gJzAnOwogICAgICB0aGlzLnBsYW5vID0gJ0ZhbGVNYWlzIDMwJzsKICAgICAgdGhpcy52YWxvckZhbGVNYWlzID0gJzAnOwogICAgICB0aGlzLnZhbG9yID0gJzAnOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/app/src/pages/Home.vue"],"names":[],"mappings":";;AAsDA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAM;AACF,MAAA,IAAI,EAAE,EADJ;AAEF,MAAA,OAAO,EAAC,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,CAFN;AAGF,MAAA,QAAQ,EAAC,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,CAHP;AAIF,MAAA,aAAa,EAAE,EAJb;AAKF,MAAA,cAAc,EAAE,EALd;AAMF,MAAA,KAAK,EAAE,CANL;AAOF,MAAA,KAAK,EAAE,aAPL;AAQF,MAAA,aAAa,EAAE,CARb;AASF,MAAA,KAAK,EAAE;AATL,KAAN;AAWH,GAdU;AAeX,EAAA,OAAO,EAAC;AACJ,IAAA,YADI,0BACU;AAAA;;AAEV,UAAK,KAAK,aAAL,IAAsB,EAAtB,IAA4B,KAAK,cAAL,IAAuB,EAApD,IACC,KAAK,aAAL,IAAsB,EAAtB,IAA4B,KAAK,cAAL,IAAuB,EADxD,EAC4D;AAExD,QAAA,KAAK,CAAC,kDAAiD,KAAK,aAAtD,GAAsE,WAAtE,GAAmF,KAAK,cAAzF,CAAL;AACA;AAEH,OAND,MAMM,IAAG,KAAK,KAAL,IAAc,CAAjB,EAAmB;AAErB,QAAA,KAAK,CAAC,6BAAD,CAAL;AACA;AAEJ;;AAEA,UAAM,cAAa;AAAA,2EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACb,KAAK,CAAC,IAAN,CAAW,wCAAX,EAAqD;AACvD,8BAAc,KAAI,CAAC,aADoC;AAEvD,+BAAc,KAAI,CAAC,cAFoC;AAGvD,+BAAc,KAAI,CAAC,KAHoC;AAIvD,6BAAc,KAAI,CAAC;AAJoC,mBAArD,EAKH,IALG,CAKE,UAAC,GAAD,EAAO;AACX,oBAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAhB;AACA,oBAAA,KAAI,CAAC,aAAL,GAAsB,GAAG,CAAC,IAAJ,CAAS,gBAA/B;AACA,oBAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,gBAAtB;AACA,oBAAA,KAAI,CAAC,IAAL,GAAY,GAAG,CAAC,IAAJ,CAAS,IAArB;AACH,mBAVK,CADa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAJ;;AAAA,wBAAb,cAAa;AAAA;AAAA;AAAA,SAAnB;;AAaA,MAAA,cAAc;AAGjB,KAhCG;AAiCJ,IAAA,aAjCI,2BAiCW;AAAA;;AACX,UAAM,YAAW;AAAA,4EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACX,KAAK,CAAC,IAAN,CAAW,iCAAX,EAA6C;AAC/C,8BAAkB,MAAI,CAAC,aADwB;AAE/C,+BAAkB,MAAI,CAAC,cAFwB;AAG/C,+BAAkB,MAAI,CAAC,KAHwB;AAI/C,6BAAkB,MAAI,CAAC,KAJwB;AAK/C,qCAAkB,MAAI,CAAC,aALwB;AAM/C,6BAAkB,MAAI,CAAC;AANwB,mBAA7C,CADW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAJ;;AAAA,wBAAX,YAAW;AAAA;AAAA;AAAA,SAAjB;;AAUA,MAAA,YAAY;AAEZ,WAAK,aAAL,GAAqB,IAArB;AACA,WAAK,cAAL,GAAsB,IAAtB;AACA,WAAK,KAAL,GAAa,GAAb;AACA,WAAK,KAAL,GAAa,aAAb;AACA,WAAK,aAAL,GAAqB,GAArB;AACA,WAAK,KAAL,GAAa,GAAb;AAEJ;AArDI;AAfG,CAAf","sourcesContent":["<template>\r\n    <div class=\"my-auto\">\r\n        <div class=\"card text-center\">\r\n            <div class=\"card-header\">\r\n                <span>Calcule o valor da sua ligação</span>\r\n            </div>\r\n            <div class=\"card-body\">\r\n\r\n                <div class=\"d-block d-md-flex\">\r\n                    <div class=\"form-group col-12 col-md-2\">\r\n                        <label for=\"origem\">Origem</label>\r\n                        <select class=\"form-control\" id=\"origem\" v-model=\"origemLigacao\">\r\n                            <option v-for=\"origem in origens\" :key=\"origem\">{{origem}}</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"form-group col-12 col-md-2\">\r\n                        <label for=\"destino\">Destino</label>\r\n                        <select class=\"form-control\" id=\"destino\" v-model=\"destinoLigacao\">\r\n                            <option v-for=\"destino in destinos\" :key=\"destino\">{{destino}}</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"form-group col-12 col-md-2\">\r\n                        <label for=\"tempo\">Tempo em minutos</label>\r\n                        <input type=\"number\" min='0' class=\"form-control\" id=\"tempo\" v-model=\"tempo\">\r\n                    </div>\r\n                    <div class=\"form-group col-12 col-md-2\">\r\n                        <label for=\"plano\">Plano FaleMais</label>\r\n                        <select class=\"form-control\" id=\"plano\" v-model=\"plano\">\r\n                            <option>FaleMais 30</option>\r\n                            <option>FaleMais 60</option>\r\n                            <option>FaleMais 120</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"form-group col-12 col-md-2\">\r\n                        <label for=\"valorFaleMais\">Valor com FaleMais</label>\r\n                        <input type=\"number\" class=\"form-control\" id=\"valorFaleMais\" readonly v-model=\"valorFaleMais\">\r\n                    </div>\r\n                    <div class=\"form-group col-12 col-md-2\">\r\n                        <label for=\"valor\">Valor sem FaleMais</label>\r\n                        <input type=\"number\" class=\"form-control\" id=\"valor\" readonly v-model=\"valor\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <a href=\"#\" class=\"btn btn-primary m-2\" @click=\"calculaValor\">Calcular</a>\r\n                <a href=\"#\" class=\"btn btn-success m-2\" @click=\"guardaCotacao\">Guardar no histórico</a>\r\n            </div>\r\n            <div class=\"card-footer text-muted\">\r\n                {{ date }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"Home\",\r\n    data() {\r\n        return{\r\n            date: '',\r\n            origens:[11,16,17,18],\r\n            destinos:[11,16,17,18],\r\n            origemLigacao: 11,\r\n            destinoLigacao: 11,\r\n            tempo: 0,\r\n            plano: 'FaleMais 30',\r\n            valorFaleMais: 0,\r\n            valor: 0,\r\n        }\r\n    },\r\n    methods:{\r\n        calculaValor(){\r\n\r\n            if ((this.origemLigacao != 11 && this.destinoLigacao != 11) || \r\n                (this.origemLigacao == 11 && this.destinoLigacao == 11)){\r\n\r\n                alert('Não possuimos planos de ligações entre o DDD '+ this.origemLigacao + ' e o DDD '+ this.destinoLigacao );\r\n                return;\r\n\r\n            }else if(this.tempo <= 0){\r\n\r\n                alert('Informe o tempo da ligação.');\r\n                return;\r\n\r\n            }\r\n\r\n            const calculoDoValor = async ()=>{\r\n                await axios.post('http://localhost:3000/cotacoes/calcula', {\r\n                    \"origem\"    : this.origemLigacao,\r\n                    \"destino\"   : this.destinoLigacao,\r\n                    \"minutos\"   : this.tempo,\r\n                    \"plano\"     : this.plano\r\n                }).then((res)=>{\r\n                    console.log(res.data);\r\n                    this.valorFaleMais =  res.data.valorComFaleMais;\r\n                    this.valor = res.data.valorSemFaleMais;\r\n                    this.date = res.data.date;\r\n                })\r\n            }\r\n            calculoDoValor();\r\n\r\n\r\n        },\r\n        guardaCotacao(){\r\n            const criaRegistro = async () => {\r\n                await axios.post('http://localhost:3000/cotacoes/',{\r\n                    \"origem\"        : this.origemLigacao,\r\n                    \"destino\"       : this.destinoLigacao,\r\n                    \"minutos\"       : this.tempo,\r\n                    \"plano\"         : this.plano,\r\n                    \"valorFaleMais\" : this.valorFaleMais,\r\n                    \"valor\"         : this.valor\r\n                });\r\n            }\r\n            criaRegistro();\r\n\r\n            this.origemLigacao = '11'\r\n            this.destinoLigacao = '11'\r\n            this.tempo = '0'\r\n            this.plano = 'FaleMais 30'\r\n            this.valorFaleMais = '0'\r\n            this.valor = '0'\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.card{\r\n    margin-top: 100px;\r\n}\r\nspan{\r\n    font-size: 1.5rem;\r\n    font: bold;\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}